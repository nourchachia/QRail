ğŸš„ QRail: An AI-Powered Operational Memory

QRail builds a searchable memory of historical rail incidents and their resolutions. When a new disruption occurs, the system:

1. Encodes the incident as multi-dimensional embeddings (spatial + temporal + contextual)
2. Retrieves the most similar historical cases using Qdrant
3. Recommends resolution strategies based on what worked before
4. Explains recommendations with evidence from historical cases
5. Learns by storing outcomes and operator feedback

1- Technical architecture: 
We combine deep learning with semantic understanding to give our users the ultimate decision support.

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              NEURAL RAIL CONDUCTOR                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   INPUT DATA          â”‚         â”‚           AI ENCODERS (3-Stream)      â”‚         â”‚
â”‚  â”‚                       â”‚         â”‚                                       â”‚         â”‚
â”‚  â”‚ â€¢ Graph Structure     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 1. TOPOLOGY ENCODER (GNN - GATv2)     â”‚         â”‚
â”‚  â”‚   (Nodes/Edges)       â”‚         â”‚    Output: 64-dim Structural Vector   â”‚         â”‚
â”‚  â”‚                       â”‚         â”‚                                       â”‚         â”‚
â”‚  â”‚ â€¢ Incident Timeline   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 2. CASCADE ENCODER (LSTM)             â”‚         â”‚
â”‚  â”‚   (Delays over time)  â”‚         â”‚    Output: 64-dim Temporal Vector     â”‚         â”‚
â”‚  â”‚                       â”‚         â”‚                                       â”‚         â”‚
â”‚  â”‚ â€¢ Text Description    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 3. SEMANTIC ENCODER (Transformer)     â”‚         â”‚
â”‚  â”‚   ("Signal fail...")  â”‚         â”‚    Output: 384-dim Semantic Vector    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                       â”‚                              â”‚
â”‚                                                       â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                             THE "BRAIN" (QDRANT)                                â”‚â”‚
â”‚  â”‚                                                                                  â”‚â”‚
â”‚  â”‚  Collection: `operational_memory` (Multi-Vector)                                 â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚  â”‚  â€¢ "structural"  [64-dim]  â”€â”€â–¶ Matches complex junction layouts             â”‚ â”‚â”‚
â”‚  â”‚  â”‚  â€¢ "temporal"    [64-dim]  â”€â”€â–¶ Matches cascade propagation speed            â”‚ â”‚â”‚
â”‚  â”‚  â”‚  â€¢ "semantic"    [384-dim] â”€â”€â–¶ Matches incident type description            â”‚ â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚                                            â”‚
â”‚                                         â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                THE "CONSTRAINTS" (JSON)                         â”‚â”‚
â”‚  â”‚  Validates AI suggestions against physical Platform Lengths & Speed Limits      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2- Project file Structure: 

QRail/
â”œâ”€â”€ ğŸ“ data/                           
â”‚   â”œâ”€â”€ ğŸ“ network/ (stations.json, segments.json)
â”‚   â”œâ”€â”€ ğŸ“ incidents/ (raw json)
â”‚   â””â”€â”€ ğŸ“ processed/ (graphs.pt, sequences.pt)
â”‚
â”œâ”€â”€ ğŸ“ src/                            
â”‚   â”œâ”€â”€ ğŸ“ backend/                    
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ main.py                 
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ database.py             
â”‚   â”‚   â””â”€â”€ ğŸ“„ search.py (Weighted Multi-Vector Search)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/ (The AI Core)       
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ gnn_encoder.py          # Topology Encoder
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ lstm_encoder.py         # Cascade Encoder
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ semantic_encoder.py     # Semantic Encoder
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ conflict_classifier.py  # Conflict Classifier
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ outcome_predictor_xgb.py # Outcome Predictor
â”‚   â”‚   â””â”€â”€ ğŸ“„ trainer.py              # Training loop
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ frontend/                   
â”‚       â””â”€â”€ ğŸ“„ (React Dashboard files)
â”‚
â”œâ”€â”€ ğŸ“„ requirements.txt
â””â”€â”€ ğŸ“ data_gen/
    â”œâ”€â”€ ğŸ“„ generate_network.py     # Stations & Segments
    â”œâ”€â”€ ğŸ“„ generate_incidents.py   # Synthetic Failures
    â””â”€â”€ ğŸ“„ generate_golden_runs.py # Successful Resolutions


